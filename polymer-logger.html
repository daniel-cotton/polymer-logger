<script type="text/javascript">
  const PolymerLoggerBuilder = appLabel => {

    const lineNumberRegex  = /:[0-9]+:[0-9]+/;

    let getCallingLine = () => {
      function getErrorObject(){
        try { throw Error('') } catch(err) { return err; }
      }

      let err = getErrorObject();
      let caller_line = err.stack.split("\n")[5];
      let index = caller_line.indexOf("at ");
      let clean = caller_line.slice(index+2, caller_line.length);
      let lineNumber = lineNumberRegex.exec(clean)[0];
      return lineNumber;
    };

    let labelCreator = element => "[" + appLabel + " - <" + element + ">" + getCallingLine() + "]";

    return superclass => class extends superclass {
      constructor() {
        super();
        Object.defineProperty(this, 'LOGGER', {
          configurable: false,
          value: {
            debug: message => console.debug(labelCreator(this.constructor.is) + " : " + message),
            error: message => console.error(labelCreator(this.constructor.is) + " : " + message),
            info: message => console.info(labelCreator(this.constructor.is) + " : " + message),
            warn: message => console.warn(labelCreator(this.constructor.is) + " : " + message)
          }
        });
      }
    }
  }
</script>